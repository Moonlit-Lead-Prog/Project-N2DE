configuration: Release

image: Visual Studio 2017


before_build:
  - set PREFIX=C:\engine
  
  - |-
    %DEPENDS% mkdir %PREFIX%\include\SDL2
    %DEPENDS% mkdir %PREFIX%\lib
    %DEPENDS% cd %TEMP%
  
  # SDL2
  - |-
    %DEPENDS% appveyor DownloadFile https://www.libsdl.org/release/SDL2-devel-2.0.8-VC.zip
    %DEPENDS% 7z x SDL2-devel-2.0.8-VC.zip > nul
    %DEPENDS% copy SDL2-2.0.8\include\* %PREFIX%\include\SDL2 > nul
    %DEPENDS% copy SDL2-2.0.8\lib\x64\*.a %PREFIX%\lib > nul
    %DEPENDS% copy SDL2-2.0.8\bin\x64\*.dll %PREFIX%\lib > nul
    
  # SDL2_image
  - |-
    %DEPENDS% appveyor DownloadFile https://www.libsdl.org/projects/SDL_image/release/SDL2_image-devel-2.0.3-VC.zip
    %DEPENDS% 7z x SDL2_image-devel-2.0.3-VC.zip > nul
    %DEPENDS% copy SDL2-2.0.8\include\SDL2\* %PREFIX%\include\SDL2 > nul
    %DEPENDS% copy SDL2-2.0.8\lib\*.a %PREFIX%\lib > nul
    %DEPENDS% copy SDL2-2.0.8\bin\*.dll %PREFIX%\lib > nul

build:
  verbosity: normal
